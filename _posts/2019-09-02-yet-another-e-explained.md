---
layout: post
title: Yet Another e Explained
author: czheo
categories:
  - math
---
## 不尽人意的例子
虽然有不少关于自然常数e的解释，浏览下来不少都从复利计算的例子展开。
其中的逻辑是，如果年利率是100%，如果按每年计算利息，一年后获得的财富将是200%；
如果按每半年，一年后获得$$(1 + \frac{100\%}{2})^2 = 225\%$$；
如果按每月，一年后获得$$(1 + \frac{100\%}{12})^{12} = 261.3\%$$；
如果按无限小的时间单位计算，一年后获得$$\underbrace{(1 + \frac{1}{N})^N}_{N \rightarrow \infty}$$，而这个数就是e。

在历史上，虽然e是在对复利的研究中被发现的，但我觉得这可能并不是一个足够直观的例子。其中的悖论是，既然我们规定了年利率是100%，将每半年的利率当作50%的算法显得很随意粗暴，这么一来，我们一年后实际获得的财富也就超过了100%的既定利率了呀？而且，既然e被称作“自然”常数，这种看似人为随意规定的规则到底和自然有什么关系呢？

## 核心概念
e背后的核心概念，是用来描述和“自身大小”相关的“增长率”。
比如，滚一大一小两个雪球，因为大的雪球表面积更大能吸附更多的雪，相同单位时间内，大的雪球比小的雪球变大得更多，换句话说，雪球大小的增长率和它自身的大小正相关。
再比如，比较两个培养皿中的细菌，假设其他条件相同，单位时间内大的群落比小的群落能繁殖更多细菌，也就是说，细菌群落的繁殖速率和群落本身的大小有关。
可以想像现实中存在很多类似的例子，我们不妨暂且将这类变化称作“自然增长”。（其实，也可能是减少。）

接下来，我们来看“自然增长”与e之间的关系。
我们将“自身大小”的量记作y，把时间记作x，当大小的增长率和自身大小成正比，我们就有了以下式子：

$$
\frac{d y}{d x} = k y
$$

其中k是一个代表权重的常量，所以我们不妨先研究$$k=1$$时候的情景。
即：

$$
\frac{d y}{d x} = y
$$

稍有微积分基础的人都能看出，$$y = e^x$$这个函数满足上面的式子，也就是说，$$e^x$$的导数是其本身。

$$
\frac{d e^x}{d x} = e^x
$$

换句话说，如果大小y和时间x满足$$y = e^x$$，那它符合我们描述的“自然增长”的特征。

## 唯一性

其实，$$e^x$$并不是唯一满足“导数是其本身”这一性质的函数：任何$$y = c e^x$$（c为常数）的导数也都是其本身，即

$$
\frac{d (c e^x)}{d x} = c e^x
$$

除此以外，还有其他函数的导数是其本身吗？
答案是没有。
我们可以通过反证法证明。

假设存在一个函数$$f(x)$$不满足$$c e^x$$的形式，但有$$\frac{d f(x)}{d x} = f(x)$$的性质。
那么，我们可以得出$$e^{-x} f(x)$$的导数为0的结论：

$$
\begin{aligned}
(e^{-x} f(x))'
& = e^{-x} f'(x) + (e^{-x})' f(x) \\
& = e^{-x} f(x) - e^{-x} f(x) \\
& = 0
\end{aligned}
$$

也就是说，$$e^{-x} f(x) = a$$，$$a$$是一个常数。
可推出，$$f(x) = a e^x$$，与假设矛盾。Q.E.D

## 一般化

那么对任意的权重k，$$\frac{d y}{d x} = k y$$的原函数是什么呢？
答案是$$y = c e^{k x}$$。
我们可以轻松验算得出：

$$(c e^{k x})' = c (k x)' e^{k x} = k (c e^{k x})$$

至此，我们可以说$$y = c e^{k x}$$是“自然增长”函数的一般形式。
其中，c是自身“绝对大小”的权重，k是“增速”和“大小”之比的权重。

## 再看复利

回头看复利，复利也满足“自然增长”的特征，它就和“滚雪球”类似，单位时间内获得额外利息的多少和本金多少成正比。

所以，$$(1 + \frac{1}{N})^N = e$$究竟在描述什么现象？
假设我们将1年分成$$\Delta x$$时长的N等分，即$$\Delta x = \frac{1 (year)}{N}$$，那这个式子也就变成了$$(1 + 100\% \Delta x) ^ N$$。
翻译成自然语言就是：对于任意小的一段时间$$\Delta x$$，我们始终保持100%的增长速率，那么经过N个$$\Delta x$$（1年）以后，我们的财富将变成e倍。

也就是说，如果你在“任意瞬间”都是100%的年利率增长（$$\frac{d y}{d x} = k y$$, where $$k = 100\%$$），那1年后你的财富将变成$$e$$倍，2年后你的财富将变成$$e^2$$倍···（$$ y = e^x$$）。
当然，现实中银行多是按月或者按年计算复利，我可不知道哪家银行会按e的指数函数连续计算复利，这也是我觉得用复利作为例子的不够直观的另外一个原因。

## 自然衰减的例子

之前我们稍微提及了，e不但可以描述增加，也可以描述减少。
这里我们举一个热水降温的例子：
我们可以直观地想象出，热水降温的速度，和自身温度与室温的温差有关。
温差越大，热交换越快，降温也就越快。

为了方便讨论，我们假设室温为0摄氏度，假设热水温度是y摄氏度，时间是x，那么我们有如下关于水温随时间变化率的式子：

$$
\frac{d y}{d x} = - k (y - 0) = - k y
$$

其中(y - 0)代表温差，k是一个线性常数，前面的负号代表温度下降。

这个式子除了符号相反，不是正好满足了之前讨论“自然增长”时的公式形式吗？
我们可以很容易得出，水温y和时间x之间满足$$y = c e^{-k x}$$的关系。
